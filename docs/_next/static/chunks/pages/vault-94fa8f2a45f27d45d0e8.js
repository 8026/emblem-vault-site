_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[22],{FpzS:function(e,r,t){"use strict";var n=t("pVnL"),a=t.n(n),o=t("8OQS"),i=t.n(o),s=t("qKvR"),l=t("q1tI"),c=t("we/t"),u=t("+Cyc"),d=t("lSNA"),p=t.n(d),b=t("CjxU"),f=t("mf32"),h=t("za5s");function m(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function O(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?m(t,!0).forEach((function(r){p()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(t).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var v={_readOnly:{bg:"transparent",boxShadow:"none !important",userSelect:"all"}},g={bg:"transparent",px:void 0,height:void 0},j=function(e){switch(e.variant){case"flushed":return function(e){var r=e.theme,t=e.focusBorderColor,n=e.errorBorderColor,a=Object(h.h)(r.colors,t,t),o=Object(h.h)(r.colors,n,n);return O({},v,{borderBottom:"2px",borderColor:"inherit",rounded:0,px:void 0,bg:"transparent",_focus:{zIndex:1,borderColor:a},_invalid:{borderColor:o}})}(e);case"unstyled":return g;case"filled":return function(e){var r=e.theme,t=e.focusBorderColor,n=e.errorBorderColor,a=e.colorMode,o=Object(h.h)(r.colors,t,t),i=Object(h.h)(r.colors,n,n);return O({},v,{border:"2px",borderColor:"transparent",bg:{light:"gray.100",dark:"whiteAlpha.50"}[a],_hover:{bg:{light:"gray.200",dark:"whiteAlpha.100"}[a]},_disabled:{opacity:"0.4",cursor:"not-allowed"},_focus:{zIndex:1,bg:"transparent",borderColor:o},_invalid:{borderColor:i}})}(e);case"outline":return function(e){var r=e.theme,t=e.colorMode,n=e.focusBorderColor,a=e.errorBorderColor,o=Object(h.h)(r.colors,n,n),i=Object(h.h)(r.colors,a,a);return O({},v,{border:"1px",borderColor:{light:"inherit",dark:"whiteAlpha.50"}[t],bg:{light:"white",dark:"whiteAlpha.100"}[t],_hover:{borderColor:{light:"gray.300",dark:"whiteAlpha.200"}[t]},_disabled:{opacity:"0.4",cursor:"not-allowed"},_focus:{zIndex:1,borderColor:o,boxShadow:"0 0 0 1px "+o},_invalid:{borderColor:i,boxShadow:"0 0 0 1px "+i}})}(e);default:return{}}},w={display:"flex",alignItems:"center",position:"relative",transition:"all 0.2s",outline:"none",appearance:"none"},y={lg:{fontSize:"lg",px:4,height:12,rounded:"md"},md:{fontSize:"md",px:4,height:10,rounded:"md"},sm:{fontSize:"sm",px:3,height:8,rounded:"sm"}},C=function(e){var r=O({},e,{theme:Object(b.b)(),colorMode:Object(f.c)().colorMode});return O({width:e.isFullWidth?"100%":void 0},w,{},function(e){return y[e.size]}(r),{},j(r))},x=Object(l.forwardRef)((function(e,r){e.size,e.variant;var t=e.as,n=e["aria-label"],o=e["aria-describedby"],l=e.isReadOnly,d=(e.isFullWidth,e.isDisabled,e.isInvalid,e.isRequired,e.focusBorderColor,e.errorBorderColor,i()(e,["size","variant","as","aria-label","aria-describedby","isReadOnly","isFullWidth","isDisabled","isInvalid","isRequired","focusBorderColor","errorBorderColor"])),p=C(e),b=Object(c.b)(e);return Object(s.d)(u.a,a()({ref:r,as:t,readOnly:b.isReadOnly,"aria-readonly":l,disabled:b.isDisabled,"aria-label":n,"aria-invalid":b.isInvalid,required:b.isRequired,"aria-required":b.isRequired,"aria-disabled":b.isDisabled,"aria-describedby":o},p,d))}));x.displayName="Input",x.defaultProps={size:"md",as:"input",variant:"outline",isFullWidth:!0,focusBorderColor:"blue.500",errorBorderColor:"red.500"};r.a=x},"pZB+":function(e,r,t){"use strict";t.r(r),t.d(r,"default",(function(){return z}));var n=t("q1tI"),a=t.n(n),o=t("wx14"),i=t("o0o1"),s=t.n(i),l=t("HaE+"),c=t("ODXe"),u=t("XZ7F"),d=t("Weur"),p=t("BMxC"),b=t("Yn+B"),f=t("bQFp"),h=t("sK1y"),m=t("FpzS"),O=t("IP4Q"),v=t("eJLp"),g=t("Z6YE"),j=t("nOHt"),w=t("Y1ui"),y=t.n(w),C=t("a6RD"),x=t.n(C),S=t("iBPG"),k=t("zIq6"),I=t("N39q"),_=t("21eR"),R=a.a.createElement,B=x()((function(){return Promise.all([t.e(9),t.e(13),t.e(27)]).then(t.bind(null,"X/Jl"))}),{loadableGenerated:{webpack:function(){return["X/Jl"]},modules:["./AddrModal"]}});function E(){var e=Object(g.b)(),r=e.account,t=e.chainId,i=Object(j.useRouter)(),w=i.query,C=(i.pathname,i.replace,a.a.useState(w.id)),x=Object(c.a)(C,2),E=x[0],q=(x[1],a.a.useState("")),z=Object(c.a)(q,2),P=z[0],A=z[1],F=a.a.useState(""),D=Object(c.a)(F,2),N=D[0],W=D[1],H=a.a.useState(""),M=Object(c.a)(H,2),T=M[0],X=M[1],J=a.a.useState([]),V=Object(c.a)(J,2),G=V[0],Q=V[1],Z=a.a.useState([]),K=Object(c.a)(Z,2),L=K[0],Y=K[1],U=a.a.useState(!1),$=Object(c.a)(U,2),ee=$[0],re=($[1],a.a.useState(1)),te=Object(c.a)(re,2),ne=te[0],ae=te[1],oe=a.a.useState(null),ie=Object(c.a)(oe,2),se=ie[0],le=ie[1],ce=a.a.useState(""),ue=Object(c.a)(ce,2),de=ue[0],pe=ue[1],be=a.a.useState(""),fe=Object(c.a)(be,2),he=fe[0],me=fe[1],Oe=a.a.useState({loaded:!1}),ve=Object(c.a)(Oe,2),ge=ve[0],je=ve[1],we=a.a.useState(!1),ye=Object(c.a)(we,2),Ce=ye[0],xe=ye[1],Se=a.a.useState(!1),ke=Object(c.a)(Se,2),Ie=ke[0],_e=ke[1],Re=a.a.useState(!1),Be=Object(c.a)(Re,2),Ee=Be[0],qe=Be[1],ze=(Object(_.b)(I.p.vaultHandler[t],I.p.vaultHandlerAbi,!0),Object(_.b)(I.p.emblemVault[t],I.p.emblemAbi,!0)),Pe=Object(u.a)(),Ae=Pe.isOpen,Fe=Pe.onOpen,De=Pe.onClose,Ne=function(){var e=Object(l.a)(s.a.mark((function e(){var r,t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(I.h+"/meta/"+E,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 2:return r=e.sent,e.next=5,r.json();case 5:t=e.sent,console.log(t),A(t.name),X(t.image),W(t.description),Q(t.values),W(t.description),Y(t.addresses),ae("mainnet"==t.network?1:4),je({loaded:!0});case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),We=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze.ownerOf(E);case 2:t=e.sent,_e(t===r),Ie&&xe(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),He=function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ze.setApprovalForAll(I.p.vaultHandler[t],!0).then((function(e){var r=e.hash;le(r)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Me=function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ze.transferFrom(r,I.c,E).then((function(e){var r=e.hash;qe(!0),setTimeout((function(){le(r)}),100)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){Ne()}),[]),Object(n.useEffect)((function(){r&&t&&ne&&t==ne&&We()})),R(a.a.Fragment,null,R(B,{isOpen:Ae,onClose:De,addrCoin:de,addrAddr:he}),R(y.a,{loaded:ge.loaded},R(d.a,{width:"full",align:"center",justifyContent:"center"},R(p.a,{maxW:"sm",borderWidth:"1px",rounded:"lg",overflow:"hidden",alignItems:"center"},R(p.a,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",textTransform:"uppercase",alignItems:"center"},P),R(b.a,{align:"center"},R(f.a,{src:Object(S.j)(T)?T:"https://circuitsofvalue.com/public/coval-logo.png",width:"250px"})),R(b.a,{align:"center"},R(p.a,{mt:"1",ml:"4",as:"h4",lineHeight:"tight"},R(h.a,{as:"h4",ml:"4",mr:"4"},N.split("Emblem Vault Basic")[0].trim()))),R(p.a,{p:"6"},R(p.a,{d:"flex",alignItems:"baseline"},R(p.a,{color:"gray.500",letterSpacing:"wide",fontSize:"sm",ml:"2"},R(h.a,{as:"h4",fontWeight:"semibold"},"Current Contents:"),ee?R(a.a.Fragment,null,R(h.a,null,"Contents hidden. Enter password to unlock."),R(m.a,{type:"password",id:"vault-password",onChange:function(e){return r=e.target.value,void console.log(r);var r},"aria-describedby":"password-helper-text"})):G.length?G.map((function(e){return R(h.a,{key:e.name,isTruncated:!0},e.name,": ",e.balance)})):R(h.a,null,"Nothing in here! Fill 'er up!"))),R(p.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},R(b.a,{direction:"row",align:"center",spacing:"1rem",flexWrap:"wrap",shouldWrapChildren:!0},R(O.a,{spacing:4},L.map((function(e){return R(v.a,{key:e.address,onClick:function(){pe(e.coin),me(e.address),Fe()}},"Put ","ETH"==e.coin?e.coin+"/ERC20":e.coin," In")}))))),R(p.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},R(v.a,Object(o.a)({width:"100%",as:"a"},{href:"https://"+(4==ne?"rinkeby.":"")+"opensea.io/assets/"+I.p.emblemVault[ne]+"/"+E,target:"_blank",rel:"noopener noreferrer"}),Ie?"Sell/Gift/Send":"Make an Offer")),R(p.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},Ie?R(v.a,{width:"100%",onClick:function(){Ce?Me():He()}},Ce?"Claim":"Approve"):"")))),se?R(k.a,{hash:se,onComplete:function(){Ee&&(alert("Claim tx complete. Now ask server for keys"),le(null))}}):null))}var q=a.a.createElement;function z(){return q(E,null)}},"we/t":function(e,r,t){"use strict";t.d(r,"b",(function(){return u}));var n=t("pVnL"),a=t.n(n),o=t("8OQS"),i=t.n(o),s=t("qKvR"),l=t("q1tI"),c=t("BMxC"),u=function(e){var r=p();return r?Object.keys(r).reduce((function(t,n){return t[n]=e[n],r&&null==e[n]&&(t[n]=r[n]),t}),{}):e},d=Object(l.createContext)(),p=function(){return Object(l.useContext)(d)},b=Object(l.forwardRef)((function(e,r){var t=e.isInvalid,n=e.isRequired,o=e.isDisabled,l=e.isReadOnly,u=i()(e,["isInvalid","isRequired","isDisabled","isReadOnly"]),p={isRequired:n,isDisabled:o,isInvalid:t,isReadOnly:l};return Object(s.d)(d.Provider,{value:p},Object(s.d)(c.a,a()({role:"group",ref:r},u)))}));b.displayName="FormControl",r.a=b},zjfc:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/vault",function(){return t("pZB+")}])}},[["zjfc",2,1,6,8,0,3,4,5,7,10,12]]]);